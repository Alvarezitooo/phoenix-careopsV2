{"version":3,"file":"edge-chunks/833.js","mappings":"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","sources":["webpack://_N_E/?2543","webpack://_N_E/","webpack://_N_E/?032e","webpack://_N_E/?8281","webpack://_N_E/./components/DonationBanner.tsx","webpack://_N_E/./app/(protected)/layout.tsx","webpack://_N_E/./providers.tsx","webpack://_N_E/./app/layout.tsx","webpack://_N_E/./lib/supabase.ts","webpack://_N_E/./context/SupabaseAuthContext.tsx","webpack://_N_E/./lib/uiCopy.ts","webpack://_N_E/./app/(protected)/app/layout.tsx","webpack://_N_E/./app/globals.css"],"sourcesContent":["import(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/client/app/(protected)/layout.tsx\");\n","import(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/client/app/layout.tsx\");\n","import(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/client/components/app-router.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/client/components/client-page.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/client/components/error-boundary.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/client/components/layout-router.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/client/components/not-found-boundary.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/client/components/render-from-template-context.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/shared/lib/hooks-client-context.shared-runtime.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/shared/lib/loadable-context.shared-runtime.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/shared/lib/server-inserted-html.shared-runtime.js\");\n","import(/* webpackMode: \"eager\" */ \"/Users/mattvaness/Desktop/IA/phoenix-careops/node_modules/next/dist/esm/client/link.js\");\n","'use client';\n\nimport { useState } from 'react';\nimport { Heart, X } from 'lucide-react';\nimport Link from 'next/link';\n\nexport default function DonationBanner() {\n  const [isVisible, setIsVisible] = useState(true);\n\n  if (!isVisible) return null;\n\n  return (\n    <div className=\"bg-gradient-to-r from-rose-50 to-pink-50 border-b border-rose-100\">\n      <div className=\"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between\">\n        <div className=\"flex items-center space-x-3\">\n          <Heart className=\"h-5 w-5 text-rose-500 flex-shrink-0\" />\n          <p className=\"text-sm text-slate-700\">\n            <span className=\"font-medium\">Phoenix est gratuit</span> grâce à la générosité de familles comme vous.\n            <Link href=\"/soutenir\" className=\"text-rose-600 hover:text-rose-700 ml-2 underline\">\n              Découvrir comment soutenir →\n            </Link>\n          </p>\n        </div>\n        <button\n          onClick={() => setIsVisible(false)}\n          className=\"text-slate-400 hover:text-slate-600 p-1\"\n          aria-label=\"Fermer\"\n        >\n          <X className=\"h-4 w-4\" />\n        </button>\n      </div>\n    </div>\n  );\n}","'use client';\n\nimport React, { useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname, useRouter } from 'next/navigation';\nimport { MessageSquare, LayoutDashboard, LogOut, Heart } from 'lucide-react';\nimport { useSupabaseAuth } from '@/context/SupabaseAuthContext';\nimport DonationBanner from '@/components/DonationBanner';\n\nconst NavLink = ({ href, children }: { href: string; children: React.ReactNode }) => {\n  const pathname = usePathname();\n  const isActive = pathname === href;\n\n  return (\n    <Link\n      href={href}\n      className={`flex items-center px-3 py-2 rounded-lg transition-colors ${\n        isActive\n          ? 'bg-rose-100 text-rose-700'\n          : 'text-slate-600 hover:bg-slate-100'\n      }`}\n    >\n      {children}\n    </Link>\n  );\n};\n\nexport default function ProtectedLayout({ children }: { children: React.ReactNode }) {\n  const { user, signOut, loading } = useSupabaseAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.replace('/login');\n    }\n  }, [loading, user, router]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\n        <Heart className=\"h-12 w-12 text-rose-500 animate-pulse\" />\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\n        <Heart className=\"h-12 w-12 text-rose-500 animate-pulse\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 flex\">\n      {/* Sidebar de navigation */}\n      <aside className=\"w-64 bg-white border-r border-slate-200 p-4 flex flex-col\">\n        <div className=\"flex items-center space-x-2 mb-8\">\n          <Heart className=\"h-8 w-8 text-rose-500\" />\n          <span className=\"text-xl font-semibold text-slate-900\">PhoenixCare</span>\n        </div>\n\n        <nav className=\"flex flex-col space-y-2\">\n          <NavLink href=\"/chat\">\n            <MessageSquare className=\"mr-3 h-5 w-5\" />\n            Assistant\n          </NavLink>\n          <NavLink href=\"/dashboard\">\n            <LayoutDashboard className=\"mr-3 h-5 w-5\" />\n            Mon Dossier\n          </NavLink>\n        </nav>\n\n        <div className=\"mt-auto\">\n          <div className=\"border-t border-slate-200 pt-4\">\n            <p className=\"text-sm font-medium text-slate-800 truncate\">{user?.user_metadata?.name || 'Utilisateur'}</p>\n            <p className=\"text-xs text-slate-500 truncate\">{user?.email}</p>\n            <button\n              onClick={signOut}\n              className=\"w-full flex items-center mt-4 px-3 py-2 rounded-lg text-slate-600 hover:bg-slate-100 transition-colors\"\n            >\n              <LogOut className=\"mr-3 h-5 w-5\" />\n              Se déconnecter\n            </button>\n          </div>\n        </div>\n      </aside>\n\n      {/* Contenu principal */}\n      <main className=\"flex-1 flex flex-col\">\n        <DonationBanner />\n        <div className=\"flex-1\">\n          {children}\n        </div>\n      </main>\n    </div>\n  );\n}\n","'use client'\n\nimport { AuthProvider } from '@/context/SupabaseAuthContext'\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <AuthProvider>\n      {children}\n    </AuthProvider>\n  )\n}","'use client';\n\nimport \"./globals.css\";\nimport { Providers } from \"@/providers\";\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"fr\">\n      <body>\n        <Providers>\n          {children}\n        </Providers>\n      </body>\n    </html>\n  );\n}\n","// 🗄️ Configuration Supabase pour Phoenix (Client Browser)\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables');\n}\n\n// Client simple pour compatibilité avec le code existant\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: true,\n    autoRefreshToken: true,\n    detectSessionInUrl: true,\n    flowType: 'pkce',\n    storage: {\n      getItem: (key) => {\n        if (typeof window === 'undefined') return null;\n        return document.cookie\n          .split('; ')\n          .find(row => row.startsWith(`${key}=`))\n          ?.split('=')[1] || null;\n      },\n      setItem: (key, value) => {\n        if (typeof window === 'undefined') return;\n        document.cookie = `${key}=${value}; path=/; max-age=31536000; SameSite=Lax`;\n      },\n      removeItem: (key) => {\n        if (typeof window === 'undefined') return;\n        document.cookie = `${key}=; path=/; max-age=0`;\n      },\n    },\n  },\n});\n\n// Types pour la base de données Phoenix\nexport interface User {\n  id: string;\n  email: string;\n  name: string;\n  created_at: string;\n}\n\nexport interface FamilyProfile {\n  id: string;\n  user_id: string;\n  situation: 'parent_solo' | 'couple' | 'autre';\n  departement?: string;\n  nb_enfants: number;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Child {\n  id: string;\n  family_id: string;\n  name: string;\n  age: number;\n  handicap_type?: string;\n  description?: string;\n  created_at: string;\n}\n\nexport interface Aide {\n  id: string;\n  user_id: string;\n  nom: string;\n  montant: string;\n  statut: 'actif' | 'en_attente' | 'refuse';\n  echeance?: string;\n  description?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Document {\n  id: string;\n  user_id: string;\n  nom: string;\n  type: string;\n  file_url?: string;\n  analysis?: string;\n  statut: 'valide' | 'expire' | 'expire_bientot';\n  date: string;\n  created_at: string;\n}\n\nexport interface Deadline {\n  id: string;\n  user_id: string;\n  titre: string;\n  date: string;\n  type: 'renouvellement' | 'rdv' | 'demarche';\n  priorite: 'haute' | 'moyenne' | 'basse';\n  completed: boolean;\n  description?: string;\n  created_at: string;\n}\n\nexport interface Conversation {\n  id: string;\n  user_id: string;\n  messages: any[];\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Memory {\n  id: string;\n  user_id: string;\n  context: string;\n  content: any;\n  created_at: string;\n}","'use client';\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { User, Session } from '@supabase/supabase-js';\nimport { supabase } from '@/lib/supabase';\n\ninterface AuthContextType {\n  user: User | null;\n  session: Session | null;\n  loading: boolean;\n  signUp: (email: string, password: string, name: string) => Promise<any>;\n  signIn: (email: string, password: string) => Promise<any>;\n  signOut: () => Promise<void>;\n  resetPassword: (email: string) => Promise<any>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Récupérer la session actuelle\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    // Écouter les changements d'auth\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signUp = async (email: string, password: string, name: string) => {\n    const { data, error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        data: {\n          name,\n        },\n      },\n    });\n    return { data, error };\n  };\n\n  const signIn = async (email: string, password: string) => {\n    const { data, error } = await supabase.auth.signInWithPassword({\n      email,\n      password,\n    });\n    return { data, error };\n  };\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n  };\n\n  const resetPassword = async (email: string) => {\n    const { data, error } = await supabase.auth.resetPasswordForEmail(email);\n    return { data, error };\n  };\n\n  const value = {\n    user,\n    session,\n    loading,\n    signUp,\n    signIn,\n    signOut,\n    resetPassword,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useSupabaseAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useSupabaseAuth must be used within an AuthProvider');\n  }\n  return context;\n}","export const uiCopy = {\n  // Navigation\n  nav: {\n    home: 'Accueil',\n    login: 'Connexion',\n    dashboard: 'Tableau de bord',\n    children: 'Enfants',\n    documents: 'Documents',\n    consents: 'Consentements',\n    logout: 'Se déconnecter',\n  },\n\n  // Landing Page\n  landing: {\n    hero: {\n      title: 'PhoenixCare 🕊️',\n      subtitle: 'Votre compagnon numérique pour accompagner votre enfant en situation de handicap',\n      cta_primary: 'Commencer maintenant',\n      cta_secondary: 'En savoir plus',\n    },\n    values: {\n      title: 'Pourquoi PhoenixCare ?',\n      items: [\n        {\n          title: 'Centralisation',\n          description: 'Tous vos documents et démarches au même endroit',\n          icon: 'FileText',\n        },\n        {\n          title: 'Simplicité',\n          description: 'Interface intuitive conçue pour les parents',\n          icon: 'Heart',\n        },\n        {\n          title: 'Sécurité',\n          description: 'Vos données protégées et confidentielles',\n          icon: 'ShieldCheck',\n        },\n      ],\n    },\n    howItWorks: {\n      title: 'Comment ça marche ?',\n      steps: [\n        {\n          title: 'Créez votre compte',\n          description: 'Inscription simple et sécurisée',\n        },\n        {\n          title: 'Ajoutez vos enfants',\n          description: 'Informations médicales et administratives',\n        },\n        {\n          title: 'Importez vos documents',\n          description: 'Dossiers médicaux, consentements, etc.',\n        },\n        {\n          title: 'Partagez en toute sécurité',\n          description: 'Avec les professionnels de santé',\n        },\n      ],\n    },\n    testimonials: {\n      title: 'Témoignages',\n      items: [\n        {\n          quote: '\"PhoenixCare m\\'a fait gagner un temps précieux dans la gestion des papiers médicaux de mon fils.\"',\n          author: 'Marie, mère d\\'un enfant autiste',\n        },\n        {\n          quote: '\"Enfin une solution simple pour partager les informations importantes avec l\\'équipe médicale.\"',\n          author: 'Pierre, père d\\'une enfant trisomique',\n        },\n      ],\n    },\n    faq: {\n      title: 'Questions fréquentes',\n      items: [\n        {\n          question: 'Mes données sont-elles sécurisées ?',\n          answer: 'Oui, toutes vos données sont chiffrées et stockées de manière sécurisée, conformément au RGPD.',\n        },\n        {\n          question: 'Puis-je partager l\\'accès avec les professionnels de santé ?',\n          answer: 'Oui, vous pouvez créer des accès temporaires ou permanents selon vos besoins.',\n        },\n        {\n          question: 'L\\'application est-elle gratuite ?',\n          answer: 'Oui, PhoenixCare est entièrement gratuit pour accompagner les familles.',\n        },\n      ],\n    },\n    footer: {\n      cta: 'Prêt à simplifier votre quotidien ?',\n      cta_button: 'Créer mon compte',\n      copyright: '© 2024 PhoenixCare. Tous droits réservés.',\n    },\n  },\n\n  // Authentification\n  auth: {\n    login: {\n      title: 'Se connecter à PhoenixCare',\n      email: 'Adresse email',\n      password: 'Mot de passe',\n      submit: 'Se connecter',\n      forgot_password: 'Mot de passe oublié ?',\n    },\n    errors: {\n      invalid_credentials: 'Email ou mot de passe incorrect',\n      network_error: 'Erreur de connexion. Veuillez réessayer.',\n    },\n  },\n\n  // Dashboard\n  dashboard: {\n    welcome: 'Bonjour, {name}',\n    actions: {\n      add_child: 'Ajouter un enfant',\n      import_document: 'Importer un document',\n      share_access: 'Partager un accès',\n    },\n    recent_activity: 'Activités récentes',\n    no_activity: 'Aucune activité récente',\n  },\n\n  // Enfants\n  children: {\n    title: 'Mes enfants',\n    add_child: 'Ajouter un enfant',\n    no_children: 'Aucun enfant enregistré',\n    add_child_description: 'Ajoutez les informations de votre enfant pour commencer',\n    form: {\n      first_name: 'Prénom',\n      last_name: 'Nom',\n      birth_date: 'Date de naissance',\n      medical_info: 'Informations médicales',\n      submit: 'Enregistrer',\n      cancel: 'Annuler',\n    },\n  },\n\n  // Documents\n  documents: {\n    title: 'Mes documents',\n    upload: 'Importer un document',\n    no_documents: 'Aucun document',\n    upload_description: 'Glissez-déposez vos documents ici ou cliquez pour sélectionner',\n    uploading: 'Téléchargement en cours...',\n    success: 'Document téléchargé avec succès',\n    error: 'Erreur lors du téléchargement',\n  },\n\n  // Consentements\n  consents: {\n    title: 'Consentements',\n    add_consent: 'Nouveau consentement',\n    no_consents: 'Aucun consentement',\n    recipient: 'Destinataire',\n    scope: 'Périmètre',\n    status: 'Statut',\n    statuses: {\n      pending: 'En attente',\n      approved: 'Approuvé',\n      rejected: 'Refusé',\n      expired: 'Expiré',\n    },\n  },\n\n  // Messages communs\n  common: {\n    loading: 'Chargement...',\n    error: 'Une erreur est survenue',\n    success: 'Opération réussie',\n    cancel: 'Annuler',\n    save: 'Enregistrer',\n    delete: 'Supprimer',\n    edit: 'Modifier',\n    search: 'Rechercher',\n    filter: 'Filtrer',\n    sort: 'Trier',\n    export: 'Exporter',\n    import: 'Importer',\n    download: 'Télécharger',\n    upload: 'Télécharger',\n    close: 'Fermer',\n    back: 'Retour',\n    next: 'Suivant',\n    previous: 'Précédent',\n    finish: 'Terminer',\n  },\n\n  // Messages d'erreur\n  errors: {\n    // Erreurs génériques pour le chat\n    UNKNOWN_ERROR: \"Une erreur inattendue est survenue. L'équipe technique a été prévenue.\",\n    DB_FETCH_FAILED: \"Je n'arrive pas à accéder aux informations pour le moment. Veuillez réessayer dans quelques instants.\",\n    AI_SERVICE_ERROR: \"Mon service d'intelligence artificielle rencontre des difficultés. Veuillez patienter un peu avant de réessayer.\",\n\n    // Erreurs existantes\n    network: 'Erreur de connexion. Veuillez vérifier votre connexion internet.',\n    server: 'Erreur serveur. Nos équipes ont été notifiées.',\n    validation: 'Veuillez corriger les erreurs dans le formulaire.',\n    unauthorized: 'Vous n\\'êtes pas autorisé à accéder à cette ressource.',\n    not_found: 'La page demandée n\\'existe pas.',\n    forbidden: 'Accès interdit à cette resource.',\n  },\n\n  // Messages de succès\n  success: {\n    saved: 'Modifications enregistrées avec succès',\n    deleted: 'Élément supprimé avec succès',\n    uploaded: 'Fichier téléchargé avec succès',\n    shared: 'Accès partagé avec succès',\n  },\n};\n","import React from 'react';\nimport Link from 'next/link';\nimport {\n  Heart,\n  Home,\n  Users,\n  FileText,\n  Settings,\n  LogOut,\n  User\n} from 'lucide-react';\nimport { uiCopy } from '@/lib/uiCopy';\n\ninterface AppLayoutProps {\n  children: React.ReactNode;\n}\n\nexport default function AppLayout({ children }: AppLayoutProps) {\n  const navigation = [\n    { name: uiCopy.nav.dashboard, href: '/app', icon: Home },\n    { name: uiCopy.nav.children, href: '/app/children', icon: Users },\n    { name: uiCopy.nav.documents, href: '/app/documents', icon: FileText },\n    { name: uiCopy.nav.consents, href: '/app/consents', icon: Settings },\n  ];\n\n  const handleLogout = () => {\n    // Supprimer le cookie de session\n    document.cookie = 'session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n    // Rediriger vers la page d'accueil\n    window.location.href = '/';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b border-slate-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            {/* Logo */}\n            <div className=\"flex items-center space-x-2\">\n              <Heart className=\"h-8 w-8 text-rose-500\" />\n              <span className=\"text-xl font-semibold text-slate-900\">PhoenixCare</span>\n            </div>\n\n            {/* User info et déconnexion */}\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2 text-sm text-slate-600\">\n                <User className=\"h-4 w-4\" />\n                <span>{uiCopy.dashboard.welcome.replace('{name}', 'Parent')}</span>\n              </div>\n              <button\n                onClick={handleLogout}\n                className=\"flex items-center space-x-2 px-3 py-2 text-sm text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-xl transition-colors focus:ring-2 focus:ring-slate-300 focus:outline-none\"\n              >\n                <LogOut className=\"h-4 w-4\" />\n                <span>{uiCopy.nav.logout}</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"flex\">\n        {/* Sidebar */}\n        <nav className=\"w-64 bg-white shadow-sm border-r border-slate-200 min-h-[calc(100vh-4rem)]\">\n          <div className=\"p-6\">\n            <ul className=\"space-y-2\">\n              {navigation.map((item) => (\n                <li key={item.name}>\n                  <Link\n                    href={item.href}\n                    className=\"flex items-center space-x-3 px-4 py-3 text-slate-700 rounded-xl hover:bg-slate-100 hover:text-slate-900 transition-colors focus:ring-2 focus:ring-rose-300 focus:outline-none group\"\n                  >\n                    <item.icon className=\"h-5 w-5 text-slate-500 group-hover:text-rose-500\" />\n                    <span className=\"font-medium\">{item.name}</span>\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </nav>\n\n        {/* Main content */}\n        <main className=\"flex-1 p-8\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n}\n"],"names":["Promise","resolve","then","__webpack_require__","bind","DonationBanner","isVisible","setIsVisible","useState","jsx_runtime","jsx","div","className","jsxs","Heart","p","span","Link","href","button","onClick","aria-label","X","NavLink","children","isActive","pathname","usePathname","ProtectedLayout","user","signOut","loading","useSupabaseAuth","useRouter","aside","nav","MessageSquare","LayoutDashboard","user_metadata","name","email","LogOut","main","Providers","AuthProvider","RootLayout","html","lang","body","supabaseUrl","process","supabaseAnonKey","supabase","createClient","auth","persistSession","autoRefreshToken","detectSessionInUrl","flowType","storage","getItem","setItem","key","value","removeItem","AuthContext","createContext","undefined","setUser","session","setSession","setLoading","signUp","password","data","error","options","signIn","signInWithPassword","resetPassword","resetPasswordForEmail","Provider","context","useContext","uiCopy","home","login","dashboard","documents","consents","logout","welcome","actions","add_child","import_document","share_access","recent_activity","no_activity","AppLayout","navigation","icon","Home","Users","FileText","Settings","header","User","replace","document","cookie","window","location","ul","map","li","item"],"sourceRoot":""}