(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2648:function(e,t,s){Promise.resolve().then(s.bind(s,7924))},7924:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(7821),r=s(8078);async function n(e,t){let s="/api/aides?".concat(new URLSearchParams({codePostal:e,typeHandicap:t})),a=await fetch(s);if(!a.ok)throw Error("Failed to fetch data from backend");return(await a.json()).aides||[]}let i=e=>{let{aide:t}=e;return(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-xl p-4 border border-gray-200 animate-fade-in",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-blue-800",children:t.nom}),(0,a.jsx)("p",{className:"text-sm text-gray-700 my-2",children:t.description}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["R\xe9gion : ",t.region]})," | ",(0,a.jsxs)("span",{children:["Handicap : ",t.typeHandicap]})]}),t.montantEstime&&(0,a.jsxs)("p",{className:"text-sm font-medium text-green-600",children:["\uD83D\uDCB6 Estim\xe9 : ",t.montantEstime," €"]})]}),t.lienFormulaire&&(0,a.jsx)("a",{href:"#",className:"mt-4 inline-block text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors",children:"Acc\xe9der au formulaire s\xe9curis\xe9"})]})};function l(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,d]=(0,r.useState)([]),[o,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),b=async t=>{t.preventDefault(),u(!0),x(null),p(!0);try{let t=await n(e,s);d(t)}catch(e){x("Impossible de r\xe9cup\xe9rer les aides. Veuillez v\xe9rifier que le backend est bien d\xe9marr\xe9 et accessible."),d([])}finally{u(!1)}};return(0,a.jsxs)("main",{className:"p-4 sm:p-6 md:p-8 max-w-4xl mx-auto bg-gray-50 min-h-screen",children:[(0,a.jsxs)("header",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-blue-900",children:"PhoenixCare \uD83D\uDD4A️"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Votre assistant pour trouver les aides adapt\xe9es \xe0 votre situation."})]}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:(0,a.jsxs)("form",{onSubmit:b,children:[(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Votre code postal (ex: 75001)",className:"p-3 border rounded-md focus:ring-2 focus:ring-blue-500 transition",required:!0}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Type de handicap (ex: autisme)",className:"p-3 border rounded-md focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"mt-4 w-full bg-blue-600 text-white p-3 rounded-md font-semibold hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center justify-center",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Recherche en cours..."]}):"Trouver les aides"})]})}),m&&(0,a.jsx)("p",{className:"text-red-500 text-center font-semibold",children:m}),h&&!o&&!m&&0===c.length&&(0,a.jsx)("p",{className:"text-center text-gray-700",children:"Aucune aide trouv\xe9e pour ces crit\xe8res."}),(0,a.jsx)("div",{className:"grid gap-4",children:c.map(e=>(0,a.jsx)(i,{aide:e},e.id))})]})}}},function(e){e.O(0,[115,364,744],function(){return e(e.s=2648)}),_N_E=e.O()}]);