(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{2651:function(e,t,r){Promise.resolve().then(r.bind(r,5978))},5978:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(7821),s=r(8078),i=r(4542),o=r(432),a=r(6576);let l=(0,a.Z)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var c=r(5118);let u=(0,a.Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var d=r(2949);function h(){let[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(null),h=async()=>{t(!0),a(null);try{let e=d.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",t=await fetch("".concat(e,"/api/stripe/customer-portal"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:"cus_placeholder"})}),r=await t.json();r.url?window.location.href=r.url:a("Impossible de charger le portail de gestion. Contactez-nous par email.")}catch(e){console.error("Erreur portail Stripe:",e),a("Une erreur est survenue. R\xe9essayez plus tard.")}finally{t(!1)}};return(0,n.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,n.jsx)("header",{className:"bg-white shadow-sm",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,n.jsxs)(i.default,{href:"/",className:"flex items-center space-x-2",children:[(0,n.jsx)(o.Z,{className:"h-8 w-8 text-rose-500"}),(0,n.jsx)("span",{className:"text-xl font-semibold",children:"PhoenixCare"})]}),(0,n.jsx)(i.default,{href:"/soutenir",className:"text-rose-600 hover:text-rose-700",children:"← Retour"})]})}),(0,n.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-12",children:(0,n.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-slate-200",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-rose-100 rounded-full mb-4",children:(0,n.jsx)(l,{className:"h-8 w-8 text-rose-500"})}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"G\xe9rer mon abonnement"}),(0,n.jsx)("p",{className:"text-slate-600",children:"Acc\xe9dez au portail Stripe pour g\xe9rer votre abonnement"})]}),r&&(0,n.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:r}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,n.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Ce que vous pouvez faire :"}),(0,n.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,n.jsx)("li",{children:"• Voir vos factures et paiements"}),(0,n.jsx)("li",{children:"• Mettre \xe0 jour votre moyen de paiement"}),(0,n.jsx)("li",{children:"• Modifier ou annuler votre abonnement"}),(0,n.jsx)("li",{children:"• T\xe9l\xe9charger vos re\xe7us fiscaux"})]})]}),(0,n.jsx)("button",{onClick:h,disabled:e,className:"w-full bg-rose-500 text-white py-4 rounded-xl font-medium hover:bg-rose-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{className:"h-5 w-5 animate-spin"}),(0,n.jsx)("span",{children:"Chargement..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Acc\xe9der au portail Stripe"}),(0,n.jsx)(u,{className:"h-5 w-5"})]})}),(0,n.jsx)("p",{className:"text-xs text-slate-500 text-center",children:"Vous serez redirig\xe9 vers le portail s\xe9curis\xe9 Stripe pour g\xe9rer votre abonnement."})]}),(0,n.jsxs)("div",{className:"mt-8 pt-8 border-t border-slate-200",children:[(0,n.jsx)("h3",{className:"font-semibold text-slate-900 mb-4",children:"Besoin d'aide ?"}),(0,n.jsx)("p",{className:"text-slate-600 mb-4",children:"Si vous rencontrez un probl\xe8me, n'h\xe9sitez pas \xe0 nous contacter :"}),(0,n.jsx)("a",{href:"mailto:support@phoenixcare.fr",className:"text-rose-600 hover:text-rose-700 font-medium",children:"support@phoenixcare.fr"})]})]})})]})}},6576:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(8078);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:h,...m}=e;return(0,n.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:o?24*Number(i)/Number(s):i,className:a("lucide",u),...!d&&!l(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:l,...c}=r;return(0,n.createElement)(u,{ref:i,iconNode:t,className:a("lucide-".concat(s(o(e))),"lucide-".concat(e),l),...c})});return r.displayName=o(e),r}},432:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(6576).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},5118:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(6576).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4542:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(9485),s=r.n(n)},2949:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(3862)},3862:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=a(d);c=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new m(e,t)),1!==l.length||c||a(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}},o=!0;try{t[e](i,i.exports,n),o=!1}finally{o&&delete r[e]}return i.exports}n.ab="//";var s=n(229);e.exports=s}()}},function(e){e.O(0,[485,115,571,744],function(){return e(e.s=2651)}),_N_E=e.O()}]);