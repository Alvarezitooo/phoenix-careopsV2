(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43],{6516:function(e,s,t){Promise.resolve().then(t.bind(t,123))},123:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m},dynamic:function(){return d}});var r=t(7821),n=t(8078),a=t(746),i=t(1736),l=t(2585),o=t(2278);let d="force-dynamic",c=i.Ry({firstName:i.Z_().min(1,"Pr\xe9nom requis"),lastName:i.Z_().min(1,"Nom requis"),birthdate:i.Z_().min(1,"Date de naissance requise")});function m(){let[e,s]=n.useState([]),[t,i]=n.useState(!1),{register:d,handleSubmit:m,formState:{errors:x,isSubmitting:f},reset:g}=(0,a.cI)({resolver:(0,l.F)(c)});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold tracking-tight",children:"Enfants"}),(0,r.jsx)("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 rounded-xl bg-rose-500 text-white px-4 py-2 text-sm shadow-sm hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-rose-300",children:"Ajouter un enfant"})]}),0===e.length?(0,r.jsx)(u,{onAdd:()=>i(!0)}):(0,r.jsx)("ul",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,r.jsxs)(o.E.li,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.2},className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,r.jsxs)("p",{className:"font-medium text-slate-900",children:[e.firstName," ",e.lastName]}),(0,r.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:["N\xe9(e) le ",function(e){let s=new Date(e);return Number.isNaN(s.getTime())?e:s.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}(e.birthdate)]}),(0,r.jsx)("div",{className:"mt-3 flex gap-2",children:(0,r.jsx)("span",{className:"inline-flex items-center rounded-lg border border-emerald-200 bg-emerald-50 px-2 py-1 text-xs text-emerald-700",children:"Fiche cr\xe9\xe9e"})})]},e.id))}),t&&(0,r.jsx)("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-50 grid place-items-center bg-black/40 p-4",onClick:()=>i(!1),children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-5 shadow-lg",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Ajouter un enfant"}),(0,r.jsx)("button",{onClick:()=>i(!1),className:"rounded-lg px-2 py-1 text-sm text-slate-600 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-rose-300","aria-label":"Fermer",children:"âœ•"})]}),(0,r.jsxs)("form",{className:"mt-4 grid gap-3",onSubmit:m(e=>{let t={id:crypto.randomUUID(),...e};s(e=>[t,...e]),g(),i(!1)}),noValidate:!0,children:[(0,r.jsxs)("label",{className:"grid gap-1 text-sm",children:[(0,r.jsx)("span",{children:"Pr\xe9nom"}),(0,r.jsx)("input",{className:"rounded-lg border border-slate-300 p-2 focus:outline-none focus:ring-2 focus:ring-rose-300",type:"text",...d("firstName")}),x.firstName&&(0,r.jsx)("span",{role:"alert",className:"text-xs text-red-600",children:x.firstName.message})]}),(0,r.jsxs)("label",{className:"grid gap-1 text-sm",children:[(0,r.jsx)("span",{children:"Nom"}),(0,r.jsx)("input",{className:"rounded-lg border border-slate-300 p-2 focus:outline-none focus:ring-2 focus:ring-rose-300",type:"text",...d("lastName")}),x.lastName&&(0,r.jsx)("span",{role:"alert",className:"text-xs text-red-600",children:x.lastName.message})]}),(0,r.jsxs)("label",{className:"grid gap-1 text-sm",children:[(0,r.jsx)("span",{children:"Date de naissance"}),(0,r.jsx)("input",{className:"rounded-lg border border-slate-300 p-2 focus:outline-none focus:ring-2 focus:ring-rose-300",type:"date",...d("birthdate")}),x.birthdate&&(0,r.jsx)("span",{role:"alert",className:"text-xs text-red-600",children:x.birthdate.message})]}),(0,r.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>i(!1),className:"rounded-xl border border-slate-300 px-4 py-2 text-sm hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-rose-300",children:"Annuler"}),(0,r.jsx)("button",{type:"submit",disabled:f,"aria-busy":f,className:"rounded-xl bg-slate-900 px-4 py-2 text-sm text-white hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-rose-300 disabled:opacity-60",children:"Enregistrer"})]})]})]})})]})}function u(e){let{onAdd:s}=e;return(0,r.jsxs)("div",{className:"rounded-2xl border border-dashed border-slate-300 p-8 text-center",children:[(0,r.jsx)("p",{className:"font-medium",children:"Aucun enfant enregistr\xe9"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:"Ajoutez la fiche de votre enfant pour organiser ses documents."}),(0,r.jsx)("button",{onClick:s,className:"mt-4 inline-flex items-center gap-2 rounded-xl bg-rose-500 px-4 py-2 text-sm text-white hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-rose-300",children:"Ajouter un enfant"})]})}}},function(e){e.O(0,[278,180,115,571,744],function(){return e(e.s=6516)}),_N_E=e.O()}]);